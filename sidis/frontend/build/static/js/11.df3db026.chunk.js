(window.webpackJsonpadmin=window.webpackJsonpadmin||[]).push([[11],{163:function(e,t,a){"use strict";a.r(t);var s=a(78),n=a(79),r=a(81),c=a(80),i=a(82),l=a(1),o=a.n(l),d=a(3),m=a.n(d),u=a(14),p=a(24),h=a(106),f=a(9),k=a(98),E=a(121),b=a(107),v=a(123),y=a(122),g=a(124),C=a(104),T=a(118),j=a(125),N=a(96),O=a(128),R=a(92),w=a(95),q=a.n(w),S=a(86),x=function(e){function t(){return Object(s.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"card mt-3"},o.a.createElement("div",{className:"card-body"},o.a.createElement(S.b,{to:"/card/".concat(this.props.cardId,"/task/"),id:"create-task",className:"btn btn-success ml-auto"}," Create Task ")))}}]),t}(l.Component),M=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(c.a)(t).call(this,e))).loadMore=function(){a.setState({offset:a.state.offset+3},(function(){a.props.fetchTaskRequest(a.state)}))},a.submitChange=function(e){a.setState({tasklist:[],forceReset:!0,offset:0},(function(){a.props.fetchTaskRequest(a.state)}))},a.handleChange=function(e){var t={};t[e.target.name]=e.target.value,a.setState(t)},a.setCard=function(e){var t;e.match.params.id&&(t=e.cardlist.filter((function(t){return t.id===e.match.params.id})),a.setState({card:t.length?t[0]:{},offset:0,taskdata:[],forceReset:!0},(function(){a.props.fetchTaskRequest(a.state)})))},a.capture=function(e,t){var s=a.state.transit;e.target.checked?s.push(t):s=s.filter((function(e){return e.id!==t.id}))},a.move=function(){a.setState({tasklist:[],forceReset:!0,offset:0},(function(){0<a.state.selected.length&&0<a.state.transit.length?a.props.moveTaskRequest(a.state):a.setState({isSelected:!1})}))},a.removeTask=function(){var e=Object(u.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q()({title:o.a.createElement(o.a.Fragment,null,"Removing Task from the Card"),message:"Are you sure that you want to delete ?",confirmText:"proceed",confirmColor:"primary",cancelColor:"link text-danger"});case 2:e.sent&&a.setState({selectedItem:t,tasklist:[],forceReset:!0,offset:0},(function(){a.props.deleteTaskRequest(t)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={keyword:"",card:{},transit:[],selected:[],isSelected:!1,forceReset:!1,selectedItem:{},tasklist:[],offset:0},a}return Object(i.a)(t,e),Object(n.a)(t,[{key:"componentDidMount",value:function(){this.setCard(this.props)}},{key:"componentDidUpdate",value:function(e,t){this.props.match.params.id!==e.match.params.id&&this.setCard(this.props),t.card.id!==this.state.card.id&&this.props.fetchTaskRequest(this.state),t.card.id!==this.state.card.id&&this.props.fetchTaskRequest(this.state),this.props.movelist!==e.movelist&&this.props.fetchTaskRequest(this.state),t.delete!==this.props.delete&&this.props.fetchTaskRequest(this.state)}},{key:"render",value:function(){var e=this,t=!1;return this.props.taskdata?this.props.taskdata.total>this.state.tasklist.length&&(t=!0):t=!1,this.state.card.id?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"card mt-3"},o.a.createElement("div",{className:"card-body"},o.a.createElement("h4",{className:"mt-3"},this.state.card.name))),o.a.createElement(x,{cardId:this.state.card.id}),o.a.createElement("div",{className:"card mt-3"},o.a.createElement("div",{className:"card-body"},o.a.createElement(E.a,{row:!0},o.a.createElement(b.a,{md:6},o.a.createElement(E.a,null,o.a.createElement(v.a,null,o.a.createElement(y.a,{name:"keyword",value:this.state.keyword,onChange:this.handleChange}),o.a.createElement(g.a,{addonType:"append"},o.a.createElement(C.a,null,o.a.createElement("span",{className:"cursor-pointer",onClick:function(){return e.submitChange()}},"search")))))),o.a.createElement(b.a,{md:6},o.a.createElement(E.a,null,o.a.createElement(v.a,null,o.a.createElement(O.a,Object.assign({},this.state,{labelKey:"name",id:"basic-example",onChange:function(t){return e.setState({selected:t})},options:this.props.cardlist,placeholder:"Choose a card..."})),o.a.createElement(g.a,{addonType:"append"},o.a.createElement(C.a,null,o.a.createElement("span",{className:"cursor-pointer",onClick:function(){return e.move()}},"Move"))))))))),o.a.createElement("div",{className:"card mt-3"},o.a.createElement("div",{className:"card-body"},o.a.createElement(T.a,null,this.state.tasklist&&this.state.tasklist.map((function(t,a){return o.a.createElement(j.a,{key:a,id:"".concat(t.name)},o.a.createElement(v.a,null,o.a.createElement(g.a,{addonType:"prepend"},o.a.createElement(C.a,null,o.a.createElement(y.a,{addon:!0,type:"checkbox","aria-label":"Checkbox for following text input",onChange:function(a){return e.capture(a,t)}}))),o.a.createElement("span",{class:"form-control height-auto"},t.name," "),o.a.createElement(g.a,{addonType:"append"},o.a.createElement(C.a,null,o.a.createElement(R.a,{icon:"trash",id:"tc".concat(t.name),className:"float-right cursor-pointer",onClick:function(){return e.removeTask(t)}})))))}))))),t&&o.a.createElement("div",{className:"card mt-3"},o.a.createElement("div",{className:"card-body"},o.a.createElement(N.a,{type:"button",className:"btn btn-primary",onClick:function(){return e.loadMore()}},"More"))),0===this.state.tasklist.length&&o.a.createElement("div",{className:"card mt-3"},o.a.createElement("div",{className:"card-body"},o.a.createElement("center",null," No Tasks available for this card ")))):o.a.createElement("div",{className:"row justify-content-center"},o.a.createElement("div",{className:"col-md-6 top-gap"},o.a.createElement("h3",{id:"no-task"}," Choose any Card from the list ")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a,s,n=t;return e.taskdata&&e.taskdata.list&&(a=e.taskdata.list[e.taskdata.list.length-1],(s=n.tasklist[n.tasklist.length-1])&&a&&a.id===s.id||(n.tasklist=e.taskdata.list?n.tasklist.concat(e.taskdata.list):n.tasklist)),!0===t.forceReset&&(n.tasklist=[],n.forceReset=!1),n}}]),t}(l.Component),I=Object(p.b)((function(e){return{cardlist:e.card.list,taskdata:e.task.list,movelist:e.task.move,delete:e.task.delete,isLoading:e.loading.items.isLoading}}),(function(e){return Object(f.b)({fetchTaskRequest:k.b,moveTaskRequest:k.c,deleteTaskRequest:k.a},e)}))(Object(h.f)(M)),D=function(e){function t(){return Object(s.a)(this,t),Object(r.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return o.a.createElement(I,null)}}]),t}(l.Component);t.default=D}}]);